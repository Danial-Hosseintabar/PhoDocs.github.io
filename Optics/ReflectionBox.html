<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>PhoDocs</title>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>
        <link rel="stylesheet" href="../index.css">
        <link rel="stylesheet" href="ReflectionBox.css">
    </head>

    <body>
        <div class="navbar">
            <h1>PhoDocs<h1>
                    <div class="links">
                        <a class="abc" href="../index.html">Home</a>
                        <a href="../about.html">About</a>
                        <a href="../contact.html">Contact</a>
                    </div>
        </div>
        <div class="docContent">
            <h1>Reflection in mirrored box</h1><br />
            <h2>Definition</h2><br />
            <p>
            Imagine a 2-D rectangular box with all sides mirroed.
            A 1-D light source directing with angle \( \alpha \) from the horizontal axis at point S with (\( x_{S} \) , \( y_{S} \)) coordinates
            spreads and hit the horizontal walls \( n_{1} \) and vertical walls \( n_{2} \) times and then reaches the point O with (\( x_{O} \) , \( y_{O} \)) coordinates.
            <br />
            Problem: determine \( \alpha \).
            </p>
            <img src="intro.svg" alt="intro image" class="figure" />
            <p>
            The fist thing that should be discussed is the rule of refleciton.
            we know that the angle of the light with the the Perpendicular of the surface at the hitting point is equal to it's refleciton.
            </p>
            <img src="rule.svg" alt="rule image" class="figure" />
            <p>
            By using this rule we will find a way to determine \( \alpha \).
            First imagine the first reflection of the light. it will be nearly like this figure below.
            </p>
            <img src="explaining1.svg" alt="explaining1 image" class="figure" />
            <p>
            Let us just continue the first line till it hits the vertical wall like the figure below.
            </p>
            <img src="explaining2.svg" alt="explaining2 image" class="figure" />
            <p>
            Both green lines starting point and angle from the horizontal axis are equal, thus their lenght will be equal and their hittion point will have equal distnace from horizontal wall.
            the upper point is the image of the other one.
            </p>
            <img src="explaining3.svg" alt="explaining3 image" class="figure" />
            <p>
            This is the important point of our method, to use the images of the hitting points.
            By continuing this with other reflections we will have this figure.
            </p>
            <img src="result.svg" alt="explaining4 image" />
            <p>
            Now what we've got is a straight line from point S to O'. let O' coordinates be (\( x_{O'} \) , \( y_{O'} \)).
            With every refleciton point O will be imaged in the new rectangle, so after \( n_{1} \) reflections with vertical walls O will be \( n_{1} \) times imaged vertically. Like vertical walls it will be \( n_{2} \) times imaged horizontally.
            then O' coordinates from the edge point of it's rectangle will be:
             
            \[
                x^{\prime} = 
                \begin{cases}
                    x_{O}  ,& \text{if } n_{1} \text{ is even} \\
                    b - x_{O},& \text{otherwise}
                \end{cases}
            \]

            \[
                y^{\prime} =
                \begin{cases}
                    y_{O}  ,& \text{if } n_{2} \text{ is even} \\
                    a - y_{O},& \text{otherwise}
                \end{cases}
            \]

            <br />

            Then O' coordinates are:
            
            \[
                x_{O'} = 
                \begin{cases}
                    n_{1} \times b + x_{O}  ,& \text{if } n_{1} \text{ is even} \\
                    (n_{1} + 1) \times b - x_{O} ,& \text{otherwise}
                \end{cases}
            \]

            \[
                y_{O'} =
                \begin{cases}
                    n_{2} \times a + y_{O}  ,& \text{if } n_{2} \text{ is even} \\
                    (n_{2} + 1) \times  a - y_{O} ,& \text{otherwise}
                \end{cases}
            \]
            <br />
            And finally we can determine the angle \( \alpha \) by using the slope of the line.
            \[
                \tan{\alpha} = \frac{y_{O'} - y_{S}}{x_{O'} - x_{S}} 
            \]

            \[
                \tan{\alpha} = 
                \begin{cases} 
                    \frac{n_{2} \times a + y_{O} - y_{S}}{n_{1} \times b + x_{O} - x_{S}},& \text{if } n_{1} \text{ is even and } n_{2} \text{ is even} \\ \\
                    \frac{(n_{2} + 1) \times  a - y_{O} - y_{S}}{n_{1} \times b + x_{O} - x_{S}},& \text{if } n_{1} \text{ is even and } n_{2} \text{ is odd} \\ \\
                    \frac{n_{2} \times a + y_{O} - y_{S}}{(n_{1} + 1) \times b - x_{O} - x_{S}},& \text{if } n_{1} \text{ is odd and } n_{2} \text{ is even} \\ \\ 
                    \frac{(n_{2} + 1) \times  a - y_{O} - y_{S}}{(n_{1} + 1) \times b - x_{O} - x_{S}},& \text{if } n_{1} \text{ is odd and } n_{2} \text{ is odd}
                \end{cases}
            \]
            </p>
        </div>
    </body>
</html>